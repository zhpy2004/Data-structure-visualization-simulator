<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="770px" preserveAspectRatio="none" style="width:376px;height:770px;background:#FFFFFF;" version="1.1" viewBox="0 0 376 770" width="376px" zoomAndPan="magnify"><title>LLMAgent.generate_dsl (&#21547;&#22806;&#37096;LLM&#19982;&#21551;&#21457;&#24335;)</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="333.2173" x="20" y="32.9951">LLMAgent.generate_dsl (&#21547;&#22806;&#37096;LLM&#19982;&#21551;&#21457;&#24335;)</text></g><ellipse cx="180.742" cy="57.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="193.2219" x="84.1311" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="173.2219" x="94.1311" y="108.4355">&#35268;&#33539;&#20998;&#38548;&#31526; (&#20013;&#25991;/&#33521;&#25991;&#26631;&#28857;&#32479;&#19968;)</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="221.241" x="70.1215" y="189.668"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="201.241" x="80.1215" y="210.8066">&#36890;&#36807; _call_llm_openai &#35843;&#29992;&#22806;&#37096;&#26381;&#21153;</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="112.1252" x="80.1215" y="224.7754">(&#20860;&#23481;OpenAI/HTTP)</text><polygon fill="#F1F1F1" points="154.2841,257.6055,207.1999,257.6055,219.1999,269.6055,207.1999,281.6055,154.2841,281.6055,142.2841,269.6055,154.2841,257.6055" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52.9159" x="154.2841" y="273.4136">&#36820;&#22238; DSL?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="123.2758" y="267.0112">yes</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="95.3578" x="76.2235" y="291.6055"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75.3578" x="86.2235" y="312.7441">&#30452;&#25509;&#36820;&#22238; DSL</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92.0005" x="191.5813" y="291.6055"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72.0005" x="201.5813" y="312.7441">&#22238;&#36864;&#33267;&#21551;&#21457;&#24335;</text><polygon fill="#F1F1F1" points="180.742,331.5742,192.742,343.5742,180.742,355.5742,168.742,343.5742,180.742,331.5742" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="135.9527,141.2656,225.5314,141.2656,237.5314,153.2656,225.5314,165.2656,135.9527,165.2656,123.9527,153.2656,135.9527,141.2656" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="184.742" y="175.4761">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89.5787" x="135.9527" y="157.0737">&#22806;&#37096; LLM &#24050;&#37197;&#32622;?</text><polygon fill="#F1F1F1" points="180.742,375.5742,192.742,387.5742,180.742,399.5742,168.742,387.5742,180.742,375.5742" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="203.5692" x="78.9574" y="467.9766"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="183.5692" x="88.9574" y="489.1152">&#25353;&#20851;&#38190;&#23383;&#20272;&#35745;&#19978;&#19979;&#25991; (tree/linear)</text><polygon fill="#F1F1F1" points="114.0814,419.5742,247.4026,419.5742,259.4026,431.5742,247.4026,443.5742,114.0814,443.5742,102.0814,431.5742,114.0814,419.5742" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="184.742" y="453.7847">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="133.3212" x="114.0814" y="435.3823">context_target &#20026; None?</text><polygon fill="#F1F1F1" points="180.742,521.9453,192.742,533.9453,180.742,545.9453,168.742,533.9453,180.742,521.9453" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="246.2131" x="57.6355" y="565.9453"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="226.2131" x="67.6355" y="587.084">&#23581;&#35797; _linear_nl_to_dsl / _tree_nl_to_dsl</text><polygon fill="#F1F1F1" points="155.823,619.9141,205.661,619.9141,217.661,631.9141,205.661,643.9141,155.823,643.9141,143.823,631.9141,155.823,619.9141" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="49.8381" x="155.823" y="635.7222">&#21305;&#37197;&#25104;&#21151;?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="124.8147" y="629.3198">yes</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="71.3576" x="97.4435" y="653.9141"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="51.3576" x="107.4435" y="675.0527">&#36820;&#22238; DSL</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="79.1213" x="188.8011" y="653.9141"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59.1213" x="198.8011" y="675.0527">&#36820;&#22238; None</text><polygon fill="#F1F1F1" points="180.742,693.8828,192.742,705.8828,180.742,717.8828,168.742,705.8828,180.742,693.8828" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="180.742" cy="748.8828" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="180.742" cy="748.8828" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="180.742" x2="180.742" y1="67.2969" y2="87.2969"/><polygon fill="#181818" points="176.742,77.2969,180.742,87.2969,184.742,77.2969,180.742,81.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="142.2841" x2="123.9024" y1="269.6055" y2="269.6055"/><line style="stroke:#181818;stroke-width:1;" x1="123.9024" x2="123.9024" y1="269.6055" y2="291.6055"/><polygon fill="#181818" points="119.9024,281.6055,123.9024,291.6055,127.9024,281.6055,123.9024,285.6055" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="219.1999" x2="237.5816" y1="269.6055" y2="269.6055"/><line style="stroke:#181818;stroke-width:1;" x1="237.5816" x2="237.5816" y1="269.6055" y2="291.6055"/><polygon fill="#181818" points="233.5816,281.6055,237.5816,291.6055,241.5816,281.6055,237.5816,285.6055" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="123.9024" x2="123.9024" y1="325.5742" y2="343.5742"/><line style="stroke:#181818;stroke-width:1;" x1="123.9024" x2="168.742" y1="343.5742" y2="343.5742"/><polygon fill="#181818" points="158.742,339.5742,168.742,343.5742,158.742,347.5742,162.742,343.5742" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="237.5816" x2="237.5816" y1="325.5742" y2="343.5742"/><line style="stroke:#181818;stroke-width:1;" x1="237.5816" x2="192.742" y1="343.5742" y2="343.5742"/><polygon fill="#181818" points="202.742,339.5742,192.742,343.5742,202.742,347.5742,198.742,343.5742" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="180.742" x2="180.742" y1="237.6055" y2="257.6055"/><polygon fill="#181818" points="176.742,247.6055,180.742,257.6055,184.742,247.6055,180.742,251.6055" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="180.742" x2="180.742" y1="165.2656" y2="189.668"/><polygon fill="#181818" points="176.742,179.668,180.742,189.668,184.742,179.668,180.742,183.668" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="237.5314" x2="303.5819" y1="153.2656" y2="153.2656"/><polygon fill="#181818" points="299.5819,255.1211,303.5819,265.1211,307.5819,255.1211,303.5819,259.1211" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="303.5819" x2="303.5819" y1="153.2656" y2="387.5742"/><line style="stroke:#181818;stroke-width:1;" x1="303.5819" x2="192.742" y1="387.5742" y2="387.5742"/><polygon fill="#181818" points="202.742,383.5742,192.742,387.5742,202.742,391.5742,198.742,387.5742" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="180.742" x2="180.742" y1="355.5742" y2="375.5742"/><polygon fill="#181818" points="176.742,365.5742,180.742,375.5742,184.742,365.5742,180.742,369.5742" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="180.742" x2="180.742" y1="121.2656" y2="141.2656"/><polygon fill="#181818" points="176.742,131.2656,180.742,141.2656,184.742,131.2656,180.742,135.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="180.742" x2="180.742" y1="443.5742" y2="467.9766"/><polygon fill="#181818" points="176.742,457.9766,180.742,467.9766,184.742,457.9766,180.742,461.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="259.4026" x2="292.5266" y1="431.5742" y2="431.5742"/><polygon fill="#181818" points="288.5266,474.9609,292.5266,484.9609,296.5266,474.9609,292.5266,478.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="292.5266" x2="292.5266" y1="431.5742" y2="533.9453"/><line style="stroke:#181818;stroke-width:1;" x1="292.5266" x2="192.742" y1="533.9453" y2="533.9453"/><polygon fill="#181818" points="202.742,529.9453,192.742,533.9453,202.742,537.9453,198.742,533.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="180.742" x2="180.742" y1="501.9453" y2="521.9453"/><polygon fill="#181818" points="176.742,511.9453,180.742,521.9453,184.742,511.9453,180.742,515.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="180.742" x2="180.742" y1="399.5742" y2="419.5742"/><polygon fill="#181818" points="176.742,409.5742,180.742,419.5742,184.742,409.5742,180.742,413.5742" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="180.742" x2="180.742" y1="545.9453" y2="565.9453"/><polygon fill="#181818" points="176.742,555.9453,180.742,565.9453,184.742,555.9453,180.742,559.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="143.823" x2="133.1223" y1="631.9141" y2="631.9141"/><line style="stroke:#181818;stroke-width:1;" x1="133.1223" x2="133.1223" y1="631.9141" y2="653.9141"/><polygon fill="#181818" points="129.1223,643.9141,133.1223,653.9141,137.1223,643.9141,133.1223,647.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="217.661" x2="228.3617" y1="631.9141" y2="631.9141"/><line style="stroke:#181818;stroke-width:1;" x1="228.3617" x2="228.3617" y1="631.9141" y2="653.9141"/><polygon fill="#181818" points="224.3617,643.9141,228.3617,653.9141,232.3617,643.9141,228.3617,647.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="133.1223" x2="133.1223" y1="687.8828" y2="705.8828"/><line style="stroke:#181818;stroke-width:1;" x1="133.1223" x2="168.742" y1="705.8828" y2="705.8828"/><polygon fill="#181818" points="158.742,701.8828,168.742,705.8828,158.742,709.8828,162.742,705.8828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="228.3617" x2="228.3617" y1="687.8828" y2="705.8828"/><line style="stroke:#181818;stroke-width:1;" x1="228.3617" x2="192.742" y1="705.8828" y2="705.8828"/><polygon fill="#181818" points="202.742,701.8828,192.742,705.8828,202.742,709.8828,198.742,705.8828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="180.742" x2="180.742" y1="599.9141" y2="619.9141"/><polygon fill="#181818" points="176.742,609.9141,180.742,619.9141,184.742,609.9141,180.742,613.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="180.742" x2="180.742" y1="717.8828" y2="737.8828"/><polygon fill="#181818" points="176.742,727.8828,180.742,737.8828,184.742,727.8828,180.742,731.8828" style="stroke:#181818;stroke-width:1;"/><!--SRC=[PL7BIiD05DtdA-uotTXzNKZ1XK9zW2w58TXH0-D4abdeBbXhQcsrGbJmBVW2xSC7c6gbFvD99d_Xf6cjwEOEd7llEVUSOJeZ67AvgUmofcn45cng3AEyHK3bjKT-SnGL7cJVz_PuhSdt3tXdFwLOJ3EPaX7tMw9IuANjwCGDd-v0zRrwSEIanUwpV88h9zniXv-NlcUdHXLzIJBsw68zuEylKR4QVZN6Ki1MC0Lr0rif1I0JsIUYwm1Qr0X1XAmYOmrJJGVHAeJkGq8Hd5Lv-Ng1ghpOuOtsZ9p8JgOdvkTdfH90h2MwBZ-zWF6vt5y5gH6UlWLxjyEHU0aJ2oTT2KQsBPpN7ykzFithIqfIOu55WpAypf3COXapyBqFc3Oe_kSdgEpmuclaDdZzsE-qHEFQzyg-joiZ0fMP6AU9Jh5coiiJyWnldOlc8Q04HvGWPlI-90qeNXWY_LWhRPbbKAhnykK_-Tyc-nO7M7pkGDHYnjet]--></g></svg>