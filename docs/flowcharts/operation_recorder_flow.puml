@startuml
title OperationRecorder 记录与历史查询
start
:record_dsl(context, text)\n写入条目并更新边界时间\n(clear 或 create/build);
:record_linear_action / record_tree_action\n将按钮动作转 DSL 文本并记录;
:get_history_entries(context)\n从最近边界时间起汇总条目;
:格式化为文本或结构化列表返回;
stop
@enduml