# 数据结构可视化模拟器使用指南

## 简介

数据结构可视化模拟器是一个基于Python和PyQt5的教育工具，通过动态可视化展示常见数据结构的操作和算法执行过程。本指南将帮助您快速上手并有效使用该工具进行数据结构学习。

### 最新更新

- **修复了哈夫曼树保存问题**：现在哈夫曼树在保存和加载时能正确保留原始频率数据
- **修复了树结构加载问题**：加载树结构数据时会自动切换到正确的数据结构类型页面
- **添加了BST的层序遍历功能**：支持二叉搜索树的层序遍历操作

## 安装与启动

### 系统要求
- Python 3.8+
- PyQt5
- 其他依赖项（见requirements.txt）

### 快速启动

1. 安装依赖项：
   ```bash
   pip install -r requirements.txt
   ```
2. 运行主程序：
   ```bash
   python main.py
   ```

## 功能概述

本模拟器支持以下数据结构的可视化：

### 线性结构
- 顺序表（ArrayList）
- 链表（LinkedList）
- 栈（Stack）

### 树形结构
- 二叉树（BinaryTree）
- 二叉搜索树（BST）
- 哈夫曼树（HuffmanTree）

## 使用界面

### 主界面

主界面分为两个主要标签页：
- **线性结构**：用于操作和可视化顺序表、链表和栈
- **树形结构**：用于操作和可视化二叉树、二叉搜索树和哈夫曼树

### 线性结构界面

线性结构界面包含以下组件：

1. **数据结构选择**：从下拉菜单中选择要操作的线性数据结构类型
2. **新建按钮**：创建新的数据结构实例
3. **清空按钮**：清空当前数据结构
4. **操作区域**：
   - 值输入框：输入要操作的数据值
   - 位置输入框：输入操作的位置索引（对于顺序表和链表）
   - 插入按钮：在指定位置插入元素
   - 删除按钮：删除指定位置的元素
   - 获取按钮：获取指定位置的元素值
   - 入栈按钮：将元素压入栈（仅对栈可见）
   - 出栈按钮：从栈顶弹出元素（仅对栈可见）
   - 查看栈顶按钮：查看栈顶元素（仅对栈可见）
5. **可视化区域**：展示当前数据结构的可视化表示
6. **状态栏**：显示操作结果和状态信息

### 树形结构界面

树形结构界面包含以下组件：

1. **数据结构选择**：从下拉菜单中选择要操作的树形数据结构类型
2. **新建按钮**：创建新的数据结构实例
3. **清空按钮**：清空当前数据结构
4. **操作区域**：
   - 值输入框：输入要操作的数据值
   - 遍历方式选择：选择树的遍历方式（前序、中序、后序、层序）
   - 插入按钮：插入新节点
   - 删除按钮：删除指定值的节点
   - 搜索按钮：搜索指定值的节点
   - 遍历按钮：按选定方式遍历树
   - 编码按钮：对输入文本进行哈夫曼编码（仅对哈夫曼树可见）
   - 解码按钮：对输入的二进制码进行哈夫曼解码（仅对哈夫曼树可见）
5. **可视化区域**：展示当前树结构的可视化表示
6. **状态栏**：显示操作结果和状态信息
7. **保存/加载按钮**：保存当前数据结构状态或加载之前保存的数据结构

## 操作指南

### 保存和加载数据结构

1. **保存当前数据结构**：
   - 在菜单栏中选择"文件" > "保存"，或使用快捷键Ctrl+S
   - 在弹出的对话框中选择保存位置和文件名
   - 点击"保存"按钮完成保存

2. **加载已保存的数据结构**：
   - 在菜单栏中选择"文件" > "加载"，或使用快捷键Ctrl+O
   - 在弹出的对话框中选择要加载的文件
   - 点击"打开"按钮，系统将自动切换到相应的数据结构类型并加载数据

### 线性结构操作

#### 顺序表和链表

1. **创建新的顺序表/链表**：
   - 选择"顺序表"或"链表"
   - 在值输入框中输入初始元素，多个元素用逗号分隔（如：1,2,3,4,5）
   - 点击"新建"按钮

2. **插入元素**：
   - 在值输入框中输入要插入的值
   - 在位置输入框中输入插入位置的索引（从0开始）
   - 点击"插入"按钮

3. **删除元素**：
   - 在位置输入框中输入要删除元素的位置索引
   - 点击"删除"按钮

4. **获取元素**：
   - 在位置输入框中输入要获取元素的位置索引
   - 点击"获取"按钮

#### 栈

1. **创建新的栈**：
   - 选择"栈"
   - 在值输入框中输入初始元素，多个元素用逗号分隔（如：1,2,3,4,5）
   - 点击"新建"按钮

2. **入栈**：
   - 在值输入框中输入要入栈的值
   - 点击"入栈"按钮

3. **出栈**：
   - 点击"出栈"按钮

4. **查看栈顶**：
   - 点击"查看栈顶"按钮

### 树形结构操作

#### 二叉树

1. **创建新的二叉树**：
   - 选择"二叉树"
   - 在值输入框中输入初始元素，多个元素用逗号分隔（如：1,2,3,4,5）
   - 点击"新建"按钮

2. **插入节点**：
   - 在值输入框中输入要插入的值
   - 点击"插入"按钮

3. **遍历树**：
   - 选择遍历方式（前序、中序、后序、层序）
   - 点击"遍历"按钮

#### 二叉搜索树

1. **创建新的二叉搜索树**：
   - 选择"二叉搜索树"
   - 在值输入框中输入初始元素，多个元素用逗号分隔（如：8,3,10,1,6,14,4,7,13）
   - 点击"新建"按钮

2. **插入节点**：
   - 在值输入框中输入要插入的值
   - 点击"插入"按钮

3. **删除节点**：
   - 在值输入框中输入要删除的值
   - 点击"删除"按钮

4. **搜索节点**：
   - 在值输入框中输入要搜索的值
   - 点击"搜索"按钮

5. **遍历树**：
   - 选择遍历方式（前序、中序、后序、层序）
   - 点击"遍历"按钮

#### 哈夫曼树

1. **创建新的哈夫曼树**：
   - 选择"哈夫曼树"
   - 在值输入框中输入字符和频率对，格式为：a:8,b:3,c:1,d:1,e:4,f:1,g:2
   - 点击"新建"按钮

2. **编码文本**：
   - 在值输入框中输入要编码的文本
   - 点击"编码"按钮

3. **解码二进制码**：
   - 在值输入框中输入要解码的二进制码（仅包含0和1）
   - 点击"解码"按钮

## DSL命令

本模拟器支持使用领域特定语言（DSL）来操作数据结构。您可以在主界面的命令输入框中输入DSL命令。

### 线性结构DSL命令

```
# 创建顺序表
create arraylist with 1,2,3,4,5

# 创建链表
create linkedlist with 1,2,3,4,5

# 创建栈
create stack with 1,2,3,4,5

# 在顺序表指定位置插入元素
insert 10 at 2 in arraylist

# 从链表中删除指定位置的元素
delete at 3 from linkedlist

# 从链表中删除指定值的元素
delete 3 from linkedlist

# 获取顺序表指定位置的元素
get at 2 from arraylist

# 入栈
push 10 to stack

# 出栈
pop from stack

# 清空数据结构
clear arraylist
```

### 树形结构DSL命令

```
# 创建二叉树
create binarytree with 1,2,3,4,5

# 创建二叉搜索树
create bst with 8,3,10,1,6,14,4,7,13

# 创建哈夫曼树
build huffman with a:8,b:3,c:1,d:1,e:4,f:1,g:2

# 在二叉树中插入节点
insert 6 in binarytree

# 从二叉搜索树中删除节点
delete 3 from bst

# 在二叉搜索树中搜索节点
search 6 in bst

# 遍历二叉树
traverse binarytree using preorder
traverse binarytree using inorder
traverse binarytree using postorder
traverse binarytree using levelorder

# 使用哈夫曼树编码文本
encode "hello" using huffman

# 使用哈夫曼树解码二进制码
decode 01101 using huffman

# 清空树结构
clear binarytree
```

## 常见问题

### Q: 为什么我的操作没有反映在可视化区域？
A: 请确保您已经创建了相应的数据结构，并且操作参数（如索引、值）是有效的。

### Q: 如何在顺序表或链表的末尾添加元素？
A: 使用插入操作，将位置索引设置为当前元素数量。

### Q: 哈夫曼树的编码和解码如何工作？
A: 首先需要创建一个哈夫曼树（提供字符和频率），然后可以使用该树对文本进行编码或对二进制码进行解码。

## 技术支持

如果您在使用过程中遇到任何问题，请参考项目文档或提交问题到项目仓库。